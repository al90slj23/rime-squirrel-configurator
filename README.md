# Rime 管须鼠可视化配置器

一个用于生成 Rime 输入法配置文件的可视化工具，专为鼠须管（Squirrel）设计。

**当前版本**: v1.2

## 功能特点

### 基础配置
- ✅ 方案标识自定义
- ✅ 简体/繁体字形切换
- ✅ 输入模式设置（中/英文、全/半角、标点符号）
- ✅ 候选词数量和标签自定义
- ✅ **快捷键风格预设**（支持 Windows/macOS/自定义三种风格）
  - **Windows 风格**（默认）：
    - 切换输入法：`Control+Shift`
    - 中英文切换：`Shift_L`（左 Shift 键）
    - 大小写切换：`Caps_Lock`
    - 全角半角切换：`Control+space`
    - 简繁切换：`Control+Shift+F`
  - **macOS 风格**：
    - 切换输入法：`Control+space`
    - 中英文切换：`Caps_Lock`
    - 大小写切换：`Shift_L`
    - 全角半角切换：`Shift+space`
    - 简繁切换：`Control+Shift+4`
  - **自定义**：修改任意快捷键后自动切换为自定义模式
- ✅ 快捷键录制功能（支持键盘实时录制）

### 高级功能
- ✅ **Emoji 输入支持** - 自动生成 300+ emoji 词库
- ✅ **农历日期显示** - 天干地支年份和生肖
- ✅ **符号输入支持** - 数学符号、箭头、希腊字母等特殊符号
- ✅ 邮箱、URL、大写字母自动识别
- ✅ 标点符号智能候选

### 皮肤配置
- ✅ 浅色/深色模式主题切换
- ✅ 候选窗口布局（横向/纵向）
- ✅ 字体和字号设置
- ✅ 窗口外观自定义（圆角、间距等）

### 界面功能
- ✅ 浅色/深色界面主题切换（点击右上角按钮切换）
- ✅ 主题偏好自动保存（使用 localStorage）

## 使用方法

### 1. 打开配置器

在浏览器中打开 `Rime管须鼠配置器.html` 文件。

### 2. 配置选项

- **方案设置**：设置方案标识（如 `luna_pinyin`）
- **默认字形**：选择简体或繁体
- **输入模式**：设置默认的中/英文、全/半角等
- **快捷键配置**：
  - 支持三种风格预设：Windows 风格（默认）、macOS 风格、自定义
  - 一键切换风格，所有快捷键自动调整
  - 支持 5 种快捷键自定义：切换输入法、中英文切换、大小写切换、全角半角切换、简繁切换
  - 点击"🎹 录制"按钮后按下快捷键，自动识别组合键
  - 修改任意快捷键后自动切换为"自定义"模式
- **候选词设置**：调整每页显示数量和标签样式
- **高级设置**：
  - 启用 Emoji 输入 - 会自动生成 `emoji.dict.yaml` 词库
  - 显示农历日期 - 会自动生成 `rime.lua` 脚本
  - 启用符号输入 - 支持 25+ 类特殊符号（默认开启）
- **皮肤配置**：自定义鼠须管外观

### 3. 生成配置文件

点击页面底部的按钮：
- **⬇ 生成方案配置** - 生成输入法方案配置
- **⬇ 生成皮肤配置** - 生成鼠须管皮肤配置

### 4. 自动下载的文件

启用 Emoji 或农历功能后，点击"生成方案配置"会自动下载：

1. `luna_pinyin.custom.yaml` - 方案配置文件
2. `emoji.dict.yaml` - Emoji 词库（如果启用了 Emoji）
3. `rime.lua` - Lua 扩展脚本（如果启用了 Emoji 或农历）

点击"生成皮肤配置"会下载：
- `squirrel.custom.yaml` - 皮肤配置文件

### 5. 部署到 Rime

#### 方法 1：手动复制

将下载的文件复制到 Rime 配置目录：

```bash
cp luna_pinyin.custom.yaml ~/Library/Rime/
cp squirrel.custom.yaml ~/Library/Rime/
cp emoji.dict.yaml ~/Library/Rime/  # 如果有
cp rime.lua ~/Library/Rime/  # 如果有
```

然后在鼠须管菜单中点击「重新部署」。

#### 方法 2：命令行快速部署

页面底部提供了快速部署命令，复制并执行：

```bash
/Library/Input\ Methods/Squirrel.app/Contents/MacOS/Squirrel --reload
```

## Emoji 使用说明

启用 Emoji 后，输入拼音即可显示相关 emoji：

- `xiaolian` → 😀
- `weixiao` → 😊
- `aixin` → ❤️
- `zan` → 👍
- `gou` → 🐶
- `pingguo` → 🍎

词库包含以下分类：
- 😀 表情符号
- 👍 手势
- ❤️ 心形符号
- 🐶 动物
- 🍎 食物
- 🚗 交通
- ⭐ 符号

## 日期和农历功能

### 日期输入
输入 `rq` 可快速插入当前日期，支持多种格式：
- 2025年01月15日
- 2025年01月15日 星期三
- 2025年01月15日 14:30:00
- 2025-01-15
- 2025/01/15
- 时间戳

### 农历输入
输入 `nl` 显示农历信息：
- 天干地支年份（如：乙巳年）
- 生肖（如：蛇年）
- 当月节气

## 符号输入功能

启用符号输入后，可以通过快捷代码输入各种特殊符号：

### 数学符号
- `/ydy` → ≈ (约等于)
- `/bdy` → ≠ (不等于)
- `/xdy` → ≤ (小于等于)
- `/gdy` → ≥ (大于等于)
- `/jh` → ±×÷ (加减乘除)
- `/wq` → ∞∫∑∏ (无穷、积分、求和、求积)

### 箭头符号
- `/zs` → ↑↓←→ (指示箭头)
- `/sx` → ⇑⇓⇐⇒ (双线箭头)

### 编号符号
- `/dh` → ①②③④⑤ (带圈数字)
- `/xh` → ⑴⑵⑶⑷⑸ (带括号数字)
- `/xm` → ⅠⅡⅢⅣⅤ (大写罗马数字)
- `/xxm` → ⅰⅱⅲⅳⅴ (小写罗马数字)

### 特殊符号
- `/dw` → °℃℉‰ (单位符号)
- `/bz` → $¥€£ (货币符号)
- `/xh2` → ★☆○●◎ (标记符号)
- `/fh` → ♠♣♥♦ (扑克花色)
- `/ts` → ♩♪♫♬ (音符)

### 希腊字母
- `/sx2` → ΑΒΓΔ (大写希腊字母)
- `/xx` → αβγδ (小写希腊字母)

### 拼音声调
- `/py` → āáǎà (带声调的拼音)

**使用方法**：输入符号代码后，在候选框中选择需要的符号即可。

## 快捷键

- `Control+Shift+F` - 简繁切换（可自定义）
- `Shift` - 临时切换中英文
- `Control+grave` - 呼出方案选单

## 载入现有配置

支持拖拽现有的 `.custom.yaml` 文件到页面，自动解析并填充配置选项。

## 技术细节

- 使用 [js-yaml](https://github.com/nodeca/js-yaml) 生成 YAML 配置
- 纯前端实现，无需服务器
- 支持快捷键录制功能
- 响应式设计，支持移动端

## 注意事项

1. 首次部署 Emoji 功能后，需要等待几秒钟让 Rime 编译词库
2. 农历功能为简化版本，完整的农历转换需要专门的算法库
3. 如遇到问题，可查看 Rime 日志：`~/Library/Rime/rime.*.INFO`
4. 配置文件采用 `.custom.yaml` 格式，部署时会自动合并到主配置

## 文件说明

- `Rime管须鼠配置器.html` - 主配置器页面
- `README.md` - 本说明文档

## 版本历史

### v1.2 (2025-11-04)
- 新增快捷键风格预设功能
- 支持 Windows/macOS/自定义 三种快捷键风格
- 一键切换风格，所有快捷键自动调整
- 修改快捷键后自动切换为"自定义"模式
- 智能检测当前配置是否匹配预设风格

### v1.1 (2025-11-04)
- 新增快捷键自定义配置功能
- 支持 5 种快捷键自定义：切换输入法、中英文切换、大小写切换、全角半角切换、简繁切换
- 默认配置为 Windows 风格（`Ctrl+Shift` 轮换、`Shift` 中英切换、`Caps Lock` 大小写、`Ctrl+空格` 全角半角）
- 支持快捷键实时录制，自动识别组合键和左右修饰键

### v1.0 (2025-11-04)
- 初始版本发布
- 方案配置生成（.custom.yaml）
- 皮肤配置生成（squirrel.custom.yaml）
- Emoji 输入支持（自动生成词库）
- 农历日期显示（自动生成 Lua 脚本）
- 符号输入支持（数学符号、箭头、希腊字母等）
- 浅色/深色界面主题切换
- 响应式设计，支持移动端

## 许可

MIT License
